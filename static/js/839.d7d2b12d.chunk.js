"use strict";(self.webpackChunktaskpro=self.webpackChunktaskpro||[]).push([[839],{6472:(e,a,d)=>{d.r(a),d.d(a,{default:()=>C});var o=d(5043),i=d(3216),r=d(3003),t=d(5391),s=d(3967),l=d(4551),n=d(7658),c=d(6389),u=d(8163),_=d(1849),h=d(5266),m=d(1486),x=d(9564),N=d(5518),w=d(9425);const p={BoardsSection:"NewBoard_BoardsSection__KfyfE","task-card":"NewBoard_task-card__G9QkS","card-without":"NewBoard_card-without__wzS1i","card-low":"NewBoard_card-low__jy-lh","card-medium":"NewBoard_card-medium__GWSxk","card-high":"NewBoard_card-high__KwxPS","card-title":"NewBoard_card-title__6ldYr","card-description":"NewBoard_card-description__K3bkB",ColumnsSection:"NewBoard_ColumnsSection__vG+Rk",ulButton:"NewBoard_ulButton__+41ka",columnName:"NewBoard_columnName__K+UCw",dark:"NewBoard_dark__rRAPs",violet:"NewBoard_violet__9SL30",NameFilter:"NewBoard_NameFilter__qOGeP",AddColumBtn:"NewBoard_AddColumBtn__ityAH",AddCardBtn:"NewBoard_AddCardBtn__He+pr",PriorityColor:"NewBoard_PriorityColor__neWKs","priority-without":"NewBoard_priority-without__Y+AKA","priority-low":"NewBoard_priority-low__DOqB8","priority-medium":"NewBoard_priority-medium__z1Gsj","priority-high":"NewBoard_priority-high__cghGg",Cards:"NewBoard_Cards__PTi4c",bottomCard:"NewBoard_bottomCard__KX6Gp",Svgs:"NewBoard_Svgs__V3i27",DeadlineBell:"NewBoard_DeadlineBell__E2enI","deadlineBell-high":"NewBoard_deadlineBell-high__tUAOT",Priority:"NewBoard_Priority__NzEK0",Deadline:"NewBoard_Deadline__FusqY",Column:"NewBoard_Column__CX01V"};var j=d(3552),B=d(7945),g=d(579);const C=()=>{const e=(0,r.wA)(),a=(0,r.d4)((e=>e.auth.user.theme)),d=(0,r.d4)((e=>e.boards.boards.backgroundImage)),C=(0,r.d4)((e=>e.modal)),v=(0,r.d4)((e=>e.columns.columns)),[b,k]=(0,o.useState)(),[y,A]=(0,o.useState)(d),[f,S]=(0,o.useState)(null),[I,P]=(0,o.useState)(),{componentName:H}=C,q=(0,i.zy)(),{state:D}=q,G=null===D||void 0===D?void 0:D.name,K=(0,i.g)(),O=v.filter((e=>e.boardName===K.boardId)),M=(0,r.d4)((e=>e.cards.cards||[])),z=M.filter((e=>O.some((a=>a._id===e.columnId)))),E=()=>{if(b){const e=z.filter((e=>e.priority===b.payload));return"all"===b.payload?z:e}return z};(0,o.useEffect)((()=>{const e=h.A.find((e=>e.image===d||e.tablet===d||e.mobile===d)),a=()=>{const a=window.innerWidth;e&&A(a<768?e.mobile:a<1024?e.tablet:e.image)};return a(),window.addEventListener("resize",a),()=>window.removeEventListener("resize",a)}),[d]);return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(t.A,{}),(0,g.jsxs)("section",{className:"".concat(p.BoardsSection," ").concat(p[a]),style:{backgroundImage:"url(".concat(y,")")},children:[(0,g.jsxs)("div",{className:p.NameFilter,children:[(0,g.jsx)("h1",{children:G}),(0,g.jsx)(s.A,{setFilter:k})]}),(0,g.jsx)("ul",{className:p.ColumnsSection,children:O.length>0?(0,g.jsxs)("div",{className:"".concat(p.ulButton),children:[(0,g.jsx)("ul",{children:O.map((d=>(0,g.jsxs)("li",{className:"".concat(p.Column," ").concat(p[a]),children:[(0,g.jsxs)("h2",{className:p.columnName,children:[d.name,(0,g.jsxs)("div",{style:{width:"40px",display:"flex",justifyContent:"space-between"},children:[(0,g.jsx)("svg",{width:"16",height:"16",onClick:()=>{return a=d._id,S(a),void e((0,m.qf)("editColumn"));var a},children:(0,g.jsx)("use",{xlinkHref:"".concat(B.A,"#pencil")})}),(0,g.jsx)("svg",{width:"16",height:"16",onClick:a=>{a.stopPropagation(),e((0,x.gR)({boardName:K.boardId,id:d._id}))},children:(0,g.jsx)("use",{xlinkHref:"".concat(B.A,"#bin")})})]})]}),z.length>0?(0,g.jsx)("ul",{className:"".concat(p.Cards," ").concat(p[a]),children:E().filter((e=>e.columnId===d._id)).map((a=>(0,g.jsxs)("li",{className:"".concat(p["task-card"]," ").concat(p["card-".concat(a.priority)]),children:[(0,g.jsx)("h2",{className:p["card-title"],children:a.title}),(0,g.jsx)("span",{className:p["card-description"],children:a.description}),(0,g.jsxs)("div",{className:"".concat(p.bottomCard),children:[(0,g.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"5px"},children:[(0,g.jsxs)("span",{className:"".concat(p.Priority),children:["Priority",(0,g.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"5px"},children:[(0,g.jsx)("span",{className:"".concat(p.PriorityColor," ").concat(p["priority-".concat(a.priority)])}),(0,g.jsx)("h4",{children:a.priority})]})]}),(0,g.jsxs)("span",{className:"".concat(p.Deadline),children:["Deadline",(0,g.jsx)("h4",{children:(0,j.o)(a.deadline)})]})]}),(0,g.jsxs)("div",{className:"".concat(p.Svgs),children:[(0,g.jsx)("svg",{width:"14",height:"16",className:"".concat(p.DeadlineBell," ").concat(p["deadlineBell-".concat(a.priority)]),children:(0,g.jsx)("use",{xlinkHref:"".concat(B.A,"#bell")})}),(0,g.jsx)(_.A,{boardName:K.boardId,columnId:d,cardId:a,allColumns:O}),(0,g.jsx)("svg",{width:"16",height:"16",onClick:()=>(a=>{P(a),e((0,m.qf)("editCardModal"))})(a),children:(0,g.jsx)("use",{xlinkHref:"".concat(B.A,"#pencil")})}),(0,g.jsx)("svg",{width:"16",height:"16",onClick:d=>{d.stopPropagation(),e((0,N.GO)({boardName:K.boardId,id:a._id}))},children:(0,g.jsx)("use",{xlinkHref:"".concat(B.A,"#bin")})})]})]})]},a._id)))}):(0,g.jsx)("p",{}),(0,g.jsxs)("button",{className:p.AddCardBtn,onClick:()=>{return a=d._id,S(a),void e((0,m.qf)("cardModal"));var a},children:[(0,g.jsx)("svg",{width:"28",height:"28",children:(0,g.jsx)("use",{xlinkHref:"".concat(B.A,"violet"!==a?"#buttons-plus":"#buttons-plus-violet")})}),"Add another card"]})]},d._id)))}),(0,g.jsxs)("button",{className:p.AddColumBtn,onClick:()=>e((0,m.qf)("columnModal")),children:[(0,g.jsx)("svg",{width:"28",height:"28",children:(0,g.jsx)("use",{xlinkHref:"".concat(B.A,"dark"!==a?"#buttons-plus":"#buttons-plus-violet")})}),"Add another column"]})]}):(0,g.jsxs)("button",{className:p.AddColumBtn,onClick:()=>e((0,m.qf)("columnModal")),children:[(0,g.jsx)("svg",{width:"28",height:"28",children:(0,g.jsx)("use",{xlinkHref:"".concat(B.A,"dark"!==a?"#buttons-plus":"#buttons-plus-violet")})}),"Add another column"]})}),"columnModal"===H&&(0,g.jsx)(l.A,{onClose:()=>e((0,m.Oo)())}),"cardModal"===H&&(0,g.jsx)(c.A,{onClose:()=>e((0,m.Oo)()),columnId:f}),"editColumn"===H&&(0,g.jsx)(n.A,{onClose:()=>e((0,m.Oo)()),columnId:f,updateColumn:(a,d)=>{e((0,w.B)({id:a,name:d}))}}),"editCardModal"===H&&(0,g.jsx)(u.A,{onClose:()=>e((0,m.Oo)()),cardId:I})]})]})}}}]);
//# sourceMappingURL=839.d7d2b12d.chunk.js.map